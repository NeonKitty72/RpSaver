/****************************************************************
*   Suzanne Kersten
*	12/18/2017
*	Helper functions for generating RP's, such as santizing
*   html input and creating properly formatted html p tags.
*
*   TODO: make way for user to choose to skip over certain
*   html tags, like em and bold.
*****************************************************************/
//basically, a menu that chooses what style to expect the input as
// based on the user's radio button choice.
function makeItNoice() {
    
	var testString = "<p><strong>lewdlime</strong>-11/09/2017</p><p>hey there~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>hey there!!!</p><p>you have a really nice icon, btw. Always makes me smile seeing it</p><p><strong>lewdlime</strong>-11/09/2017</p><p>awww thanks~</p><p>I figured maybe we could rp a bit? :&gt;</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>oooh, that sounds fun!</p><p>I&#39;d love to rp for a bit~</p><p><strong>lewdlime</strong>-11/09/2017</p><p>Do you prefer being prey or pred?</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>prey, definitely &gt;.&gt;;;</p><p><strong>lewdlime</strong>-11/09/2017</p><p>I&#39;m usually prey myself but I can be pred for you~ :&gt;</p><p>is your character a wolf?</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>Honestly I&#39;m kinda the same, I&#39;m a lil bit of a switch but usually prey.I&#39;m a fox!</p><p>well, my character is a fox, I should say</p><p><strong>lewdlime</strong>-11/09/2017</p><p>Never had fox before~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>I&#39;ve heard they&#39;re tasty... never had one myself &gt;//&gt;</p><p><strong>lewdlime</strong>-11/09/2017</p><p>really?</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>yeah, Normally I just have sweets! like donuts! they&#39;re so tasty~</p><p><strong>lewdlime</strong>-11/09/2017</p><p>and I bet they make you tasty too~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>th-they might...<em>she looks down at her tubby midsection, a paw idly squishing at her fat. She certainly looked appetizing, at the very least like a hefty and filling meal.</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>giggles and squeezes your belly</em> and Im sure you&#39;d make <em>me</em> tasty~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>A blush grows on her face, your hand easily sinking in that plush ball of fuzz.</em> you&#39;re probably right... people have told me I&#39;m tasty, I think that would transfer over to you~</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>licks your neck slowly</em> you can come inside me now if you wanna~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>shivers run down her back, those wide hips squriming back and forth.</em> oh, yes, please! that&#39;d make my day!</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>smiles and opens wide, letting you peer down my gullet</em> then help yourself inside, sweetie&lt;3 make yourself my dinner~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>The plump vixen nods excitedly, propping her hands up on your lower lip and peering in to get a better look.</em> such a beautiful sight... j-just need a bit of a closer look~ <em>those paws push in further, soon followed by the rest of her face and head dissapearing past your lips.</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>moos as i rub my cooch, watching the fox girl crawl into my mouth, enjoying how eager you are to be my meal</em> mmmmmm&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>Gravity was starting to help out some more, her voluptuous breasts squeezing past those lips as she started to travel down your gullet. Her rotund rear wobbled behind her, easily able to be smooshed and played with.</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>I rub my tongue against your soft butt, licking into your holes. I moo harder as your soft boobs smush against my tongue &amp; get squeezed in my gullet, feeling them squirting some milk as I gulp you down</em> ~ moooooooo~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>soft moans poured out from deep within you, that ravenous tongue making her quite flustered! feeling that tongue pushing into her made her squrim, more soft groans coming from below you.</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>giggles and starts to tongue fuck you, like how easy it is to play with my new food. Your soft holes are warm and tight around my tongue as I slide it in and out you</em> ^////~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>She gasps, moaning and groaning... her boobs started leaking more and more milk as she got aroused. Her legs spread apart, practically begging you for more!</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>has a strapon ready for once you reform, eager to dominate you both as a predator and in sex. Takagi keeps digging her tongue down your holes, hearing a soft wet squish each time I plunge it down you</em> ~///o</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>those grunts and groans only get louder and louder, the vixen squirming with every plunge of your tongue! She was getting moist, those loud squeals could only mean one thing: she was getting quite close to her limit~</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>speeds up my thrusts, wanting my meal nice and tender, eager to feel her cum inside my gullet</em> mmmmmmm~&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>*with a low groan, she starts to cum, coating your gullet. * mmph~ &lt;3</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>purrs and moos again, feeling your juices ooze down my throat, closing my lips over your butt and giving you a final gulp, pulling you down into my gut</em> mmmmmm~ you were a very good girl~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>The vixen smooches the tummy wall surrounding her.</em> mm, I feel amazing~ thank you</p><p><strong>lewdlime</strong>-11/09/2017</p><p>((Sorry had to head to my train))</p><p><em>giggles and pats my gut, jiggling you inside there</em> I&rsquo;m glad~ <em>burp</em> you were a good meal too&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((oh, you&#39;re fine! sorry for taking so long myself x.x I had a lot of stuff pop up))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>(( ~ its all good~))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>squirms and whimpers as she&#39;s jiggled and sloshed back and forth.</em> mm.. that&#39;s always good to hear</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>bounces my tummy</em> Ready to churn up into my body~?</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>she nods, planting a smooch on the belly walls surrounding her</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>purrs and squeezes my gut, squishing the fox girl into a meaty goop</em> good girl~</p><p><em>as I absorb her, my tits and ass grow</em> such good meat&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>The fox churns and gurgles, quickly turning into more for your body to use. Several minutes later, she reforms, still blushing profusely!</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>giggles and grabs you by the waist, pulling any clothes you have off</em> hey cutie~ since you were a good meat for me, let&rsquo;s have some sex too&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>She gasps, barely having enough time to take in your bigger boobs and rear before she finds her clothes flying off!</em> s-sex? goodness~</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>licks my lips and rubs the strapon against your cooch, hefting one of your boobs and groping it tight</em> such a good body too&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>groans out, reaching a hand down to your rear and squeezing it just as tight.</em> mm, you&#39;re one to talk, you really filled out!</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>moos and blushes</em> why thank you~ your meat made me nice and juicy~ I bet the next succubus who eats me up will enjoy the extra stuffing you gave me~! <em>pats my ass, pinching your soft nipple as I rub your cooch with the strap on more</em> and if you want, I&rsquo;ll magic myself a penis and breed you too~ but only if thats what you&rsquo;re into~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>a-aah!~ <em>gasps out, her nipples were quite sensitive!</em> b-breed me? mrrph... I-I&#39;ve never tried that, but it sounds heavenly~ <em>She ground back up against your thighs, practically begging for more!</em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>bites my lip, eager to breed with you</em> oooohh~ we could have people adopt the fox puppies, too~! <em>pulls my strap on off, rubbing my cooch a bit to turn it into a thick, 13&rdquo; cock &amp; balls, erect and ready for your womb</em> do you like it rough or gentle~?</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>mm... I-I&#39;ve never actually been pregnant before, it&#39;ll be a wonderful first experience~ <em>She gasps, watching that cock grow and grow, salivating more and more!</em> r-rough sounds amazing~</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>moos in delight, sliding it into your cooch, feeling the tight walls of your cunt squeeze my cock</em> mmmmm, this is gonna feel so good for both of us&lt;3</p><p><em>Takagi begins to pump hard, making your ass bounce as my thighs slap on your buttcheeks, my cock making a slight outline in your gut as I pound you</em> mmfffff~ so tight&lt;3</p><p><em>moos and sucks on your neck as I pound you</em> I&rsquo;m gonna make you howl for my dick, my little breeding meat&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>The sudden pounding makes the vixen huff out, her tonge lolling in her mouth. She instinctively tightens her grip on your ass as you pump.</em> Ohhh God, I can feel you so deep in there... y-you really weren&#39;t kidding that it would feel so, mrrph, so <em><strong>Good~</strong></em></p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>slides my fingers into the fox&rsquo;s mouth, letting her suck on them. I wiggle my ass in your hands</em> go on, play with my holes too, sweetie&lt;3 have fun with me~ I wanna make you breed a big litter <em>giggles as I watch your tongue slide around my hand, hearing your gentle panting</em> you naughty slut, you sure are liking this a lot~! <em>my cock makes juicy wet &ldquo;thup&rdquo; sounds in your cunt with each pump, my balls slapping on your clit. I press my tits against yours, wanting us both hot and sweaty</em> your lucky I&rsquo;m a filthy slut too, or you&rsquo;d have been punished for getting horny so easily~</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>Vixie nods, her tongue still swriling around those fingers.</em> ah.. y-yes... <em>She pulled you close, squishing her tits and belly against yours. She gave your cheeks one last squeeze before slipping her fingers between them, pumping them in and out of your rear.</em> ffffuck, it feels good to just go all otu and be such a slut, makes me wanna grow big &#39;n round with kits!</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>purrs as your soft fingers enter my booty, feeling you exploring inside me. I slam my cock harder, panting a bit as well, digging my hand on your ass into your buttcheek, and squeezing your tit with my other hand hard</em> f-fuck&lt;3 yes it is~ I love being a breeding bitch&lt;3 And I&rsquo;m gonna get you nice and huge with babies, over and over&lt;3</p><p><em>Takagi&rsquo;s cock begins to throb, my load starting to build up. I smooch and suck your soft neck, your taste making me a bit hungry again, but still eager to make you pregnant</em> h-how fast do you think you give birth?</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>All that squeezing on her body made her practically yell with her moans!</em> a-ah, groping so much... you really know how to make things rough and just so amazing~ <em>She slaps your ass, those fingers pumping faster as she feels your cock throb!</em> being a breeding bith is so fantastic, I can&#39;t believe I&#39;ve never experienced it before!! I&#39;m gonna get huge and have so many kids, being a huge preggo mama~ <em>She bit her lower lip, panting as she prepared for your load.</em> mrrph.. I-I&#39;ve never been pregnant before, I don&#39;t know...</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>giggles as you spank me, feeling the sting of your slaps, enjoying the pain. I feel your fingers rubbing hard inside me, making my cock throb more, knowing the moment is coming soon. I smile and slap your butt back</em> How about I magic your womb so you give birth in a week~? I wanna eat you and breed you often after all&lt;3 And don&rsquo;t worry your gonna be a great mama&lt;3</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>Vixie arches her back, that slap stinging her rear and leaving a little red hand mark.</em> ahh, yes, Yes, <em><strong>YES!!!</strong></em> a-a week is so fast, I still get to enjoy all the squirming and growing of my kits... Make me a momma, please! Make me grow and fill with cum, just fill my womb and give me the biggest litter of kits! <em>She groaned and gasped, her hands grapsing tight against your rear.</em>(edited)</p><p><strong>lewdlime</strong>-11/09/2017</p><p><em>giggles, thrusting as fast as I could, making your cunt squish loudly, pumping over and over untill I give a moan, and hold my cock inside your womb, feeling the heavy throb as I pump semen into you, feeling your gut expand as I keep filling it with my seed</em> Hnnnnfff~ g-getting you pregnant...feels so good~!!!(edited)</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p><em>Her hands pull you tight, holding your thighs close and keeping your cock in her womb as she fills and fills with your seed, her belly growing visibly larger every second you were releasing your load into her.</em> ohh yes, this feels fucking fantastic... becoming a mom is the best~</p><p><strong>lewdlime</strong>-11/09/2017</p><p>((~///~ you made me cum))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>(( y-you made me cum over and over earlier when you ate me... m-making me wanna cum again~))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>(( &lt;////&lt; oh my&lt;3 ))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((a-heh ^///^))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>((unfortunately if I try to keep going, I&rsquo;ll hurt my cock :x I dry hump to fap and it can give me rug burns))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((mm, I understand that &gt;//&gt; and that&#39;s the fricking worst...))</p><p>((I usually hump on a pillow &gt;//////&gt;))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>(( &sub;(___&sub;) ))</p><p>((can we continue tomorrow? :&gt;))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((yes PLEASE!!!))</p><p>((I&#39;ve never done breeding things before, it&#39;s super sexy and I definitely wanna do more~))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>(( gladly~! ))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((you&#39;re really good at rping, too~))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>(( :&gt; you are too &lt;3! ))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((heee, thank you!!! that makes me happy~))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>(( ^///^ ))</p><p><strong>QueenSuzy</strong>-11/09/2017</p><p>((I&quot;m gonna go to sleep for now, but you&#39;ve given me wonderful things to look forward to! ))</p><p><strong>lewdlime</strong>-11/09/2017</p><p>((nighty night sweetie&lt;3))</p><p>November 10, 2017</p><p><strong>lewdlime</strong>-11/10/2017</p><p>((I am awake ))</p><p>November 11, 2017</p><p><strong>lewdlime</strong>-11/11/2017</p><p>Hey there I&rsquo;m at a wedding so I won&rsquo;t be able to talk much today</p><p><strong>QueenSuzy</strong>-11/11/2017</p><p>oh geez sorry, I completely forgot to respond yesterday</p><p>and that&#39;s fine! enjoy the wedding!</p><p>November 12, 2017</p><p><strong>lewdlime</strong>-11/12/2017</p><p>its ok, i figured you were busy</p><p><strong>QueenSuzy</strong>-11/12/2017</p><p>thank youuu</p><p>November 13, 2017</p><p><strong>lewdlime</strong>-11/13/2017</p><p>((hey sweetie~ Wanna continue~?))</p><p><strong>lewdlime</strong>-11/13/2017</p><p>you here?</p><p><strong>QueenSuzy</strong>-11/13/2017</p><p>yeaah, today was a busy for me. Idk when I&#39;ll be available I honestly haven&#39;t been feeling too well</p><p>I&#39;m about to head to bed tho</p><p><strong>lewdlime</strong>-11/13/2017</p><p>its ok i got a headache right now anyway</p><p><strong>QueenSuzy</strong>-11/13/2017</p><p>oh, I&#39;m sorry to hear that =(</p><p>November 17, 2017</p><p><strong>lewdlime</strong>-11/17/2017</p><p>Hey there</p><p>we can continue whenever you wanna~</p><p>December 15, 2017</p><p><strong>lewdlime</strong>-12/15/2017</p><p>hey you :&gt;</p><p>January 8, 2018</p><p><strong>lewdlime</strong>-Last Monday at 6:00 PM</p><p>You alive?</p><p><strong>QueenSuzy</strong>-Last Monday at 6:20 PM</p><p>heey</p><p>sorry, I haven&#39;t felt much up to anything tbh</p><p><strong>lewdlime</strong>-Last Monday at 6:20 PM</p><p>It&rsquo;s ok, I know how that can feel</p><p>How&rsquo;ve you been?</p><p><strong>QueenSuzy</strong>-Last Monday at 6:21 PM</p><p>I just honestly didn&#39;t really like where things went and me just being blatantly slutty but I didn&#39;t know how to say anything lol and I figured you&#39;d just wanna rp more of the same and it was easier for me to just ignore everything and it was really sucky on my part</p><p>I&#39;m sorry</p><p><strong>lewdlime</strong>-Last Monday at 6:22 PM</p><p>:&lt; oh... you should have just said so, sweetie.</p><p>I would have done more of the kind of rp me and siggy do where it&rsquo;s gentle vore stuff</p><p><strong>QueenSuzy</strong>-Last Monday at 6:27 PM</p><p>I know, I&#39;m sorryyyyyy</p><p>I felt like I just messed things up</p><p><strong>lewdlime</strong>-Last Monday at 6:28 PM</p><p>:&gt; it&rsquo;s ok. We can start from scratch if you wanna</p><p><strong>QueenSuzy</strong>-Last Monday at 6:28 PM</p><p>(and honeslty pretty much everyone who&#39;s done sex things like that right aawy with in the past I&#39;ve had a bad time with later because they always expect that &gt;.&gt;)</p><p><strong>lewdlime</strong>-Last Monday at 6:29 PM</p><p>Your more prey than pred right?</p><p>Just making sure</p><p>And yeah sex doesn&rsquo;t always need to be part of it</p><p><strong>QueenSuzy</strong>-Last Monday at 6:34 PM</p><p>yeeeeah</p><p>that&#39;s good! makes me feel better honestly</p><p>and like. I will say that I did enjoy things DURING it, just didn&#39;t like starting off a friendship like that cause like I said it always seems to turn sour from there</p><p><strong>lewdlime</strong>-Last Monday at 6:35 PM</p><p>Like licking into your cooch and such or no?</p><p>During vore I mean</p><p><strong>QueenSuzy</strong>-Last Monday at 6:35 PM</p><p>yeeah and the fucking thing</p><p>and the fact that I honestly really prefer having a dick but I never say it</p><p>because I don&#39;t want people to be rude</p><p><strong>lewdlime</strong>-Last Monday at 6:48 PM</p><p>I dont mind that part :&gt; actually I like the idea of someone having their dick in me</p><p>but anywho, I&rsquo;ll only rp vore with you from now on</p><p><strong>QueenSuzy</strong>-Last Monday at 7:09 PM</p><p>sounds good!! thanks for being understanding &lt;3</p><p>I&#39;m gonna be going out for a while tho, ttyl</p>";
	//CKEDITOR.instances.rp.setData(testString);

    var allText = CKEDITOR.instances.rp.getData();		//Text that is in the user input textArea


	if (isDebug) console.log(allText);
    document.getElementById("rpOutput").innerHTML = "";	//reset current generated rp

    //get what chat client the user chose
    var messenger = document.getElementsByName("messengerRadioList");
    if (messenger[0].checked) {			//user chose telegram
        telegramDecipher(allText);
    } else if (messenger[1].checked) {  //user chose discord
        let discord = new discordDecipher(allText);
    } else if (messenger[2].checked) {	//user chose other
		otherDecipher(allText);
	}

    activateSaveButton();		//make the save button available
}

//****************** create username headers ******************
function generateUsernameHeaders(){
	//left header
	var leftHeaderElement = document.createElement("h2");
	leftHeaderElement.setAttribute("class", "leftUsernameHeader");
	var t = document.createTextNode(leftName);
	leftHeaderElement.appendChild(t);

	//right header
	var rightHeaderElement = document.createElement("h2");
	rightHeaderElement.setAttribute("class", "rightUsernameHeader");
	var t2 = document.createTextNode(rightName);
	rightHeaderElement.appendChild(t2);

	//div to hold it all in place
	var div = document.createElement("div");
	div.setAttribute("class", "usernameHeaders");
	div.appendChild(leftHeaderElement);
	div.appendChild(rightHeaderElement);
	document.getElementById("rpOutput").appendChild(div);
}

//****************** setup leftName and rightName ******************
//keeps track of the leftName and rightName so that it can be used
// in setting up paragraph elements.
var leftName = "";
var rightName = "";
function setLeftName(username){
	leftName = htmlDecode(username);
}
function setRightName(username){
	rightName = htmlDecode(username);
}

//****************** Other ******************
//basically just do basic formatting based on newlines and nothing else.
// most basic format.
function otherDecipher(allText) {
    var left = true;
    var toOutput = "";
    for (var i = 0; i < allText.length; i++) {

        //Skip over any html tags.
        var posToSkip = skipHTMLElements(allText, i);
        i += posToSkip;
        if (posToSkip != 0) { continue; }

        //output text, reset vars for next output
        if (parseHTMLElements(allText, i) == "/p" && i + 4 != allText.length) {
            createParagraphElement(toOutput, left); //set up text to display
            toOutput = "";
            left = !left;
        }

        //pick up text until we hit crlf
        if (allText.charAt(i) != "\r" && allText.charAt(i) != "\n")
            toOutput += allText.charAt(i)
    }
    //one last output to grab the last response
    createParagraphElement(toOutput, left);
}

//****************** Helper for parsing HTML from input ******************
//Determines if part of the string is an html element or not.
// If HTML element is found, returns a string of element name without brackets.
//	IE, <p> returns p, </strong> returns /strong.
// If nothing is found, returns NONE
function parseHTMLElements(text, position) {
    if (text.substring(position, position + 3) == "<p>") { return "p"; }
    else if (text.substring(position, position + 4) == "</p>") { return "/p"; }
    else if (text.substring(position, position + 6) == "<br />") { return "br"; }
    else if (text.substring(position, position + 8) == "<strong>") { return "strong"; }
    else if (text.substring(position, position + 9) == "</strong>") { return "/strong"; }
    else if (text.substring(position, position + 4) == "<em>") { return "em"; }
    else if (text.substring(position, position + 5) == "</em>") { return "/em"; }
    else return "NONE";
}

//****************** Santize HTML content ******************
// Sanitizes HTML content, returning only the text used.
// from https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript/34064434#34064434
function htmlDecode(input) {
    var doc = new DOMParser().parseFromString(input, "text/html");
    return doc.documentElement.textContent;
}

//****************** skip HTML elements ******************
//if an html element is found, it retuns how many spaces would need to be skipped to get to
// the end of that element. Otherwise, returns 0.
function skipHTMLElements(text, position) {
    //Skip over any html tags.
    var parseHTMLResult = parseHTMLElements(text, position);
    if (parseHTMLResult != "NONE" && parseHTMLResult != "/p") {
        return parseHTMLResult.length + 1; // 1 accounts for end >
    }
    return 0;
}

//****************** Create Paragraph Element ******************
//takes in the text to put in the paragraph element and whether the paragraph is on left or right
//returns the created paragraph element.
function createParagraphElement(text, isLeft) {
    text = htmlDecode(text);

    var paragraphElement = document.createElement("p");
    paragraphElement.setAttribute("class", isLeft ? "leftRP" : "rightRP");
    paragraphElement.setAttribute("style", "height:auto;");
    paragraphElement.setAttribute("ondblclick", "editElem(this);");

    var t = document.createTextNode(text);
    paragraphElement.appendChild(t);
    
	document.getElementById("rpOutput").appendChild(paragraphElement);
}
